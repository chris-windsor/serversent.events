---
import EventSourcePreview from "../components/EventSourcePreview.astro";
import ExampleItem from "../components/ExampleItem.astro";
import Layout from "../layouts/Layout.astro";

const examples = [
  {
    title: "Chat Messages",
    description: "Simulate incoming chat stream",
    code: `interval_min=1000&interval_max=4000&shape={"user":"{name}","message":"{words}","style":{"color":"{color}","isHighlighted":"{bool}"}}`,
  },
  {
    title: "Ecommerce Orders",
    description: "Simulate incoming ecommerce orders",
    code: `interval_min=3400&interval_max=9000&shape={"placed_at":"{datetime}","customer":{"name":"{name}","city":"{city}"},"email":"{email}","total":"{number}"}`,
  },
];
---

<Layout title="serversent.events">
  <div class="bg-zinc-900 min-h-screen flex">
    <div
      class="relative isolate px-6 py-20 sm:px-10 sm:py-24 lg:py-24 xl:px-24"
    >
      <div
        class="mx-auto grid max-w-2xl grid-cols-1 gap-x-8 gap-y-16 sm:gap-y-20 lg:mx-0 lg:max-w-none lg:grid-cols-2 lg:items-center lg:gap-y-0"
      >
        <div class="lg:row-start-2 lg:max-w-md">
          <h2 class="text-3xl font-bold tracking-tight text-white sm:text-4xl">
            Examples & Playground
          </h2>
          <p class="mt-3 text-md text-gray-300 sm:mt-4">See also:</p>
          <ul>
            <li>
              <a
                class="text-indigo-600 hover:text-indigo-500 underline"
                href="https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events/Using_server-sent_events"
                >SSE DOCS on MDN</a
              >
            </li>
          </ul>
        </div>
        <div
          class="max-w-xl lg:row-start-3 lg:mt-6 lg:max-w-md lg:border-t lg:border-white/10"
        >
          <dl
            class="max-w-xl space-y-8 text-base leading-7 text-gray-300 lg:max-w-none"
          >
            {
              examples.map((example) => (
                <ExampleItem
                  title={example.title}
                  description={example.description}
                  code={example.code}
                />
              ))
            }
          </dl>
        </div>
      </div>
    </div>
    <EventSourcePreview />
  </div>
</Layout>
