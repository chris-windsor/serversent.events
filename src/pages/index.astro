---
import { Image } from "astro:assets";
import Layout from "../layouts/Layout.astro";
import EventSourcePreview from "../components/EventSourcePreview.astro";
import ExampleItem from "../components/ExampleItem.astro";
import landingImage from "../assets/landing.jpg";

const examples = [
  {
    title: "Chat Messages",
    description: "Simulate incoming chat stream",
    code: `interval_min=1000&interval_max=4000&shape={"user":"{name}","message":"{words}","style":{"color":"{color}","isHighlighted":"{bool}"}}`,
  },
  {
    title: "Ecommerce Orders",
    description: "Simulate incoming ecommerce orders",
    code: `interval_min=3400&interval_max=9000&shape={"placed_at":"{datetime}","customer":{"name":"{name}","city":"{city}"},"email":"{email}","total":"{number}"}`,
  },
];
---

<Layout title="serversent.events">
  <div class="h-screen">
    <Image
      src={landingImage}
      alt="background image"
      class="fixed mix-blend-lighten h-full w-full object-cover"
    />
    <div class="py-24 sm:py-32 lg:pb-40">
      <div class="mx-auto max-w-7xl p-6 lg:px-8">
        <div class="rounded-xl p-4 mb-[100px] lg:mb-0">
          <h1
            class="text-gray-600 text-4xl font-bold tracking-tight sm:text-6xl bg-gradient-to-r from-gray-600 to-purple-200 bg-clip-text text-transparent"
          >
            serversent.events
          </h1>
          <p class="mt-4 text-2xl leading-8 text-gray-400">
            rapid prototyping tool for SSE
          </p>
          <div class="mt-10 min-h-screen w-full flex">
            <div
              class="relative isolate p-6 sm:p-10 bg-zinc-900 rounded-md min-w-full lg:min-w-[500px]"
            >
              <div>
                <h2
                  class="text-3xl font-bold tracking-tight text-white sm:text-4xl"
                >
                  Playground
                </h2>
                <p class="mt-3 text-md text-gray-300 sm:mt-4">See also:</p>
                <ul>
                  <li>
                    <a
                      class="text-indigo-600 hover:text-indigo-500 underline"
                      href="https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events/Using_server-sent_events"
                    >
                      SSE docs on MDN
                    </a>
                  </li>
                </ul>
              </div>
              <div class="max-w-xl lg:max-w-md border-t border-white/10">
                <dl
                  class="max-w-xl space-y-8 text-base leading-7 text-gray-300 lg:max-w-none"
                >
                  {
                    examples.map((example) => (
                      <ExampleItem
                        title={example.title}
                        description={example.description}
                        code={example.code}
                      />
                    ))
                  }
                </dl>
              </div>
            </div>
            <EventSourcePreview />
          </div>
          <a
            href="mailto:hey@chris.software"
            class="text-sm font-semibold leading-6 text-white"
          >
            Submit feedback<span aria-hidden="true">&nbsp;&rarr;</span>
          </a>
        </div>
      </div>
    </div>
  </div>
</Layout>
